using System;

//ВНИМАНИЕ: код работает лишь на числах до десяти тысяч и поскольку с русским языком слишком много возни, он может местами выглядеть неправильно.

class Program
{
    static void Main()
    {
        Console.Write("Введите сумму денег в точности до копеек: ");
        decimal деньги = Convert.ToDecimal(Console.ReadLine()); //почему не получается с double????

        // Отделяем дробную часть (копейки) от целой (рублей)
        int рубли = (int)деньги;  // целая часть
        int копейки = (int)((деньги - рубли) * 100); // дробная часть, умножаем на 100
        if (копейки % 10 == 0)
        {           
            копейки = копейки / 10;
        }

        // Проверка вводимых значений
        if (деньги < 0 || копейки >= 100)
        {
            Console.WriteLine("Пожалуйста, введите правильное значение.");
            return;
        }

        Console.WriteLine(ConvertToWordsRub(рубли, копейки));
    }

    static string ConvertToWordsRub(int rub, int kop)
    {
        string[] единицы = { "ноль", "од", "дв", "три", "четыре", "пять", "шесть", "семь", "восемь", "девять" };
        string[] десяткиСпециальные = { "десять", "одиннадцать", "двенадцать", "тринадцать", "четырнадцать", "пятнадцать", "шестнадцать", "семнадцать", "восемнадцать", "девятнадцать" };
        string[] десятки = { "", "", "двадцать", "тридцать", "сорок", "пятьдесят", "шестьдесят", "семьдесят", "восемьдесят", "девяносто" };
        string[] сотни = { "", "сто", "двести", "триста", "четыреста", "пятьсот", "шестьсот", "семьсот", "восемьсот", "девятьсот" };
        string[] тыщи = { "", "Одна", "Две", "Три", "Четыре", "Пять", "Шесть", "Семь", "Восемь", "Девять" };
        // string[] едтысячи = { "", "одна", "двести", "триста", "четыреста", "пятьсот", "шестьсот", "семьсот", "восемьсот", "девятьсот" };

        // Обработка РУБЛЕЙ
        string рублиСтрока = "";
        if (rub > 0 && rub < 10)
        {
            //рублиСтрока = единицы[rub] + (rub == 1 ? "ин" : "") + " рубл" + (rub == 1 ? "ь" : "") + (rub == 2 || rub == 3 || rub == 4 ? "я" : "ей"); КАК ЭТО СДЕЛАТЬ ТАКИМ ОБРАЗОМ
            if (rub == 1)
            {
                рублиСтрока = единицы[rub] + "ин" + " рубль";
            }
            else if (rub == 2 || rub == 3 || rub == 4)
            {
                if (rub == 2)
                {
                    рублиСтрока = единицы[rub] + "а" + " рубля";
                }
                else
                {
                    рублиСтрока = единицы[rub] + " рубля";
                }
                   
            }
            else
            {
                рублиСтрока = единицы[rub] + " рублей";
            }
        }
        else if (rub >= 10 && rub < 20)
        {
            рублиСтрока = десяткиСпециальные[rub - 10] + " рублей";
        }
        else if (rub >= 20 && rub < 100)
        {
            int единицыМесто = rub % 10;
            int десяткиМесто = rub / 10;
            if (rub % 10 == 1)
            {
                рублиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + "ин" + " рубль";
            }
            else if (rub % 10 == 2 || rub % 10 == 3 || rub % 10 == 4)
            {
                
                if (rub % 10 == 2)
                {
                    рублиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + "а" + " рубля";
                }
                else
                {
                    рублиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + " рубля";
                }
            }
            
            {
                рублиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + " рублей";
            }
                
        }
        else if (rub >= 100 && rub < 1000)
        {
            int единицыМесто = rub % 10;
            int десяткиМесто = (rub / 10) % 10;
            int сотниМесто = rub / 100;
            if (rub % 10 == 1)
            {
                рублиСтрока = сотни[сотниМесто] + " " + десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + "ин" + " рубль";
            }
            else if (rub % 10 == 2 || rub % 10 == 3 || rub % 10 == 4)
            {

                if (rub % 10 == 2)
                {
                    рублиСтрока = сотни[сотниМесто] + " " + десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + "а" + " рубля";
                }
                else
                {
                    рублиСтрока = сотни[сотниМесто] + " " + десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + " рубля";
                }
            }

            {
                рублиСтрока = сотни[сотниМесто] + " " + десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + " рублей";
            }

        }
        else if (rub >= 1000)
        {
            int тысяча = rub / 1000;
            int остаток = rub % 1000;

            рублиСтрока += тыщи[тысяча] + " тысяча ";
            if (остаток > 0)
            {
                рублиСтрока += ConvertToWordsRub(остаток, kop).Trim();
            }
        }

        // Обработка КОПЕЕК
        string копейкиСтрока = "";
        if (kop >= 0 && kop < 10)
        {
            //копейкиСтрока = единицы[kop] + (kop == 1 ? "нa" : "") + " копе" + (kop == 1 ? "йкa" : "") + (kop != 1 || kop == 2 || kop == 3 || kop == 4 ? "йки" : "ек");
            if (kop == 1)
            {
                копейкиСтрока = единицы[kop] + "на" + " копейка";
            }
            else if (kop == 2 || kop == 3 || kop == 4)
            {
                if (kop == 2)
                {
                    копейкиСтрока = единицы[kop] + "е" + " копейки";
                }
                else
                {
                    копейкиСтрока = единицы[kop] + " копейки";
                }
                   
            }
            
            else
            {
                копейкиСтрока = единицы[kop] + " копеек";
            }

        }
        else if (kop >= 10 && kop < 20)
        {
            копейкиСтрока = десяткиСпециальные[kop - 10] + " копеек";
        }
        else
        {
            int единицыМесто = kop % 10;
            int десяткиМесто = kop / 10;

            if (kop % 10 == 1)
            {
                копейкиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + "на" + " копейка";
            }
            else if (kop % 10 == 2 || kop % 10 == 3 || kop % 10 == 4)
            {
                if (kop % 10 == 2)
                {
                    копейкиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + "е" + " копейки";
                }
                else
                {
                    копейкиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + " копейки";
                }
                
            }
            else
            {
                копейкиСтрока = десятки[десяткиМесто] + (единицыМесто > 0 ? " " + единицы[единицыМесто] : "") + " копеек";
            }
        }
        //---------------------------------------------

        if (rub == 0)
        {
            return копейкиСтрока;
        }
        else 
        {
            return рублиСтрока + " и " + копейкиСтрока; 
        }
            
    }
}